(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var s in o)e.o(o,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:o[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,o=window.wp.element,s=window.wp.i18n,n=window.wp.blockEditor,r=window.wp.apiFetch;var l=e.n(r);const a=window.wp.components,c=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"aatanasov/rss-feed","title":"RSS Feed Block","icon":"rss","category":"widgets","description":"A block that pulls posts from an RSS feed.","keywords":["feed","rss","block","gutenberg"],"version":"0.4","textdomain":"rss-feed","attributes":{"numberOfPosts":{"type":"integer","default":10},"url":{"type":"string"},"showDescription":{"type":"boolean","default":false},"showDate":{"type":"boolean","default":false},"showContent":{"type":"boolean","default":false}},"example":{"attributes":{"url":"https://wordpress.org/blog/"}},"editorScript":"file:/build/index.js"}');(0,t.registerBlockType)(c,{edit:function(e){let{attributes:t,setAttributes:r}=e;const[c,i]=(0,o.useState)(!1),[d,p]=(0,o.useState)(!1),{url:u,numberOfPosts:h,showDescription:b,showDate:m,showContent:w}=t,f=e=>()=>{r({[e]:!t[e]})},g=(0,n.useBlockProps)();return(0,o.createElement)("div",g,(0,o.createElement)("div",{class:"custom-block-section"},(0,o.createElement)(a.TextControl,{label:(0,s.__)("Feed URL"),placeholder:(0,s.__)("Type the URL of your RSS feed."),value:u,type:"url",onChange:e=>{r({url:e})}}),(0,o.createElement)(a.Button,{variant:"primary",onClick:()=>{i(!1),p(!1),l()({path:"/gutenbergrssfeed/v2/validateFeedUrl/?url="+u,method:"GET"}).then((e=>{e.success?p(!0):i(!0)}))},type:"submit"},(0,s.__)("Fetch")),u&&(0,o.createElement)("p",null,(0,s.__)("The feed output is only visible on the front-end.")),c&&(0,o.createElement)("p",{class:"block-error-message"},(0,s.__)("Sorry, either your feed is not a valid one or the URL is incorrect.")),!c&&d&&(0,o.createElement)("p",{class:"block-success-message"},(0,s.__)("Feed validated successfully."))),(0,o.createElement)(n.InspectorControls,null,(0,o.createElement)(a.PanelBody,{title:(0,s.__)("RSS Feed Settings")},(0,o.createElement)(a.RangeControl,{label:(0,s.__)("Number of posts to be shown on the front-end"),value:h,min:"1",max:"50",onChange:e=>{r({numberOfPosts:e})}}),(0,o.createElement)(a.ToggleControl,{label:(0,s.__)("Display post description"),checked:b,onChange:f("showDescription")}),(0,o.createElement)(a.ToggleControl,{label:(0,s.__)("Display post date"),checked:m,onChange:f("showDate")}),(0,o.createElement)(a.ToggleControl,{label:(0,s.__)("Display post content"),checked:w,onChange:f("showContent")}))))}})})();