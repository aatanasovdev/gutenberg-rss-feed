{"version":3,"file":"index.js","mappings":"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","sources":["webpack://gutenberg-rss-feed/./src/edit.js","webpack://gutenberg-rss-feed/./src/message.js","webpack://gutenberg-rss-feed/external window [\"wp\",\"apiFetch\"]","webpack://gutenberg-rss-feed/external window [\"wp\",\"blockEditor\"]","webpack://gutenberg-rss-feed/external window [\"wp\",\"blocks\"]","webpack://gutenberg-rss-feed/external window [\"wp\",\"components\"]","webpack://gutenberg-rss-feed/external window [\"wp\",\"element\"]","webpack://gutenberg-rss-feed/external window [\"wp\",\"i18n\"]","webpack://gutenberg-rss-feed/webpack/bootstrap","webpack://gutenberg-rss-feed/webpack/runtime/compat get default export","webpack://gutenberg-rss-feed/webpack/runtime/define property getters","webpack://gutenberg-rss-feed/webpack/runtime/hasOwnProperty shorthand","webpack://gutenberg-rss-feed/webpack/runtime/make namespace object","webpack://gutenberg-rss-feed/./src/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tInspectorControls,\n\tuseBlockProps\n} from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { \n\tPanelBody,\n\tTextControl,\n\tButton,\n\tToggleControl,\n\tRangeControl\n\n} from '@wordpress/components';\t\n\n/**\n * Internal dependencies\n */\nimport Message from './message';\n\nexport default function edit( { attributes, setAttributes } ) {\n\tconst [ error, setError ] = useState( false );\n\tconst [ validated, setValidated ] = useState( false );\n\n\tconst { \n\t\turl, \n\t\tnumberOfPosts, \n\t\tshowDescription, \n\t\tshowDate, showContent \n\t} = attributes;\n\n\tconst onChangeNumber = newNumberOfPosts => {\n\t\tsetAttributes( { numberOfPosts: newNumberOfPosts } );\n\t} \n\n\tconst onChangeURL = newURL => {\n\t\tsetAttributes( { url: newURL } );\n\t};\t\t\t\n\n\tconst toggleAttribute = propName => {\n\t\treturn () => {\n\t\t\tsetAttributes( { [ propName ]: ! attributes[ propName ] } );\n\t\t}\n\t}\n\n\tconst validateURL = () => {\n\t\tsetError( false );\n\t\tsetValidated( false );\n\n\t\tapiFetch( { \n\t\t\tpath: '/gutenbergrssfeed/v2/validateFeedUrl/?url=' + url,\n\t\t\tmethod: 'GET'\n\t\t}).then( ( response ) => {\n\t\t\tif( ! response.success ) {\n\t\t\t\tsetError( true );\n\t\t\t\treturn;\n\t\t\t} \n\t\t\t\n\t\t\tsetValidated( true );\n\t\t});\n\t};\n\n\tconst blockProps = useBlockProps();\n\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t<div class=\"custom-block-section\">\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ __( 'Feed URL' ) }\n\t\t\t\t\tplaceholder={ __( 'Type the URL of your RSS feed.' ) }\n\t\t\t\t\tvalue={ url }\n\t\t\t\t\ttype=\"url\"\n\t\t\t\t\tonChange={ onChangeURL }\n\t\t\t\t/>\t\t\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tonClick={ validateURL }\n\t\t\t\t\ttype=\"submit\">\n\t\t\t\t\t{ __( 'Fetch' ) }\n\t\t\t\t</Button>\t\t\t\t\n\t\t\t\t<Message error={ error } validated={ validated } />\n\t\t\t</div>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'RSS Feed Settings' ) }>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tlabel={ __( 'Number of posts to be shown on the front-end' ) }\n\t\t\t\t\t\tvalue={ numberOfPosts }\n\t\t\t\t\t\tmin='1'\n\t\t\t\t\t\tmax='50'\n\t\t\t\t\t\tonChange={ onChangeNumber }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Display post description' ) }\n\t\t\t\t\t\tchecked={ showDescription }\n\t\t\t\t\t\tonChange={ toggleAttribute( 'showDescription' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Display post date' ) }\n\t\t\t\t\t\tchecked={ showDate}\n\t\t\t\t\t\tonChange={ toggleAttribute( 'showDate' ) }\n\t\t\t\t\t/>\t\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Display post content' ) }\n\t\t\t\t\t\tchecked={ showContent }\n\t\t\t\t\t\tonChange={ toggleAttribute( 'showContent' ) }\n\t\t\t\t\t/>\t\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t</div>\n\t);\n}","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport default function Message(props) {\n\tconst messages = {\n\t\terror: __( 'Sorry, either your feed is not a valid one or the URL is incorrect.' ),\n\t\tvalidated: __( 'Feed validated successfully. The feed output is only visible on the front-end.' )\n\t}\n\treturn(\n\t\t<div class=\"block-message\">\n\t\t\t{ props.error && <p class=\"block-message-error\">{ messages.error }</p> }\n\t\t\t{ !props.error && props.validated && <p class=\"block-message-success\">{ messages.validated }</p> }\t\t\n\t\t</div>\n\t)\n}","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\nimport metadata from '../block.json';\n \nregisterBlockType( metadata, {\n    edit\n} );"],"names":["__","InspectorControls","useBlockProps","useState","apiFetch","PanelBody","TextControl","Button","ToggleControl","RangeControl","Message","edit","attributes","setAttributes","error","setError","validated","setValidated","url","numberOfPosts","showDescription","showDate","showContent","onChangeNumber","newNumberOfPosts","onChangeURL","newURL","toggleAttribute","propName","validateURL","path","method","then","response","success","blockProps","props","messages","registerBlockType","metadata"],"sourceRoot":""}